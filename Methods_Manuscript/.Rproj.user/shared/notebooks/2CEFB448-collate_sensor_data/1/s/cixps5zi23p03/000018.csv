"0","source(""reshape.R"")"
"0","str(status_table)"
"1","Classes"
"1"," "
"1","‘data.table’"
"1"," "
"1","and "
"1","'data.frame':	"
"1",""
"1","408"
"1",""
"1"," obs. of  "
"1",""
"1","6"
"1",""
"1"," variable"
"1",""
"1","s"
"1",""
"1",":"
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Timestamp   "
"1",""
"1",":"
"1"," "
"1",""
"1","POSIXct"
"1",""
"1",", format: "
"1",""
"1","""2023-06-21"" ""2023-06-21"" ""2023-06-21"" ""2023-06-21"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","LabelledSite"
"1",""
"1",":"
"1"," num  "
"1",""
"1","1 2 3 4 5 6 7 8 9 10"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Status      "
"1",""
"1",":"
"1"," chr  "
"1",""
"1",""""" """" """" """""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Folder      "
"1",""
"1",":"
"1"," num  "
"1",""
"1","NA NA NA NA NA NA NA NA NA NA"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Site        "
"1",""
"1",":"
"1"," int  "
"1",""
"1","NA NA NA NA NA NA NA NA NA NA"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","NA          "
"1",""
"1",":"
"1"," logi  "
"1",""
"1","NA NA NA NA NA NA"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","- attr(*, "".internal.selfref"")="
"1","<externalptr> "
"1",""
"1",""
"1",""
"1","
"
"0","str(metadata)"
"1","Classes"
"1"," "
"1","‘data.table’"
"1"," "
"1","and "
"1","'data.frame':	"
"1",""
"1","444"
"1",""
"1"," obs. of  "
"1",""
"1","3"
"1",""
"1"," variable"
"1",""
"1","s"
"1",""
"1",":"
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Timestamp          "
"1",""
"1",":"
"1"," "
"1",""
"1","POSIXct"
"1",""
"1",", format: "
"1",""
"1","""2023-06-21"" ""2023-06-21"" ""2023-06-21"" ""2023-06-21"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","LabelledSite       "
"1",""
"1",":"
"1"," int  "
"1",""
"1","1 2 3 4 5 6 7 8 9 10"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","PrescribedTreatment"
"1",""
"1",":"
"1"," chr  "
"1",""
"1","""C"" ""W"" ""C"" ""C"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","- attr(*, "".internal.selfref"")="
"1","<externalptr> "
"1",""
"1",""
"1",""
"1","
"
"0","summary(status_table)"
"1",""
"1","   Timestamp                  "
"1","  LabelledSite  "
"1","    Status         "
"1","     Folder      "
"1","      Site       "
"1","    NA         "
"1","
"
"1"," Min.   :2023-06-21 00:00:00  "
"1"," Min.   : 1.00  "
"1"," Length:408        "
"1"," Min.   : 1.000  "
"1"," Min.   : 1.000  "
"1"," Mode:logical  "
"1","
"
"1"," 1st Qu.:2023-07-31 00:00:00  "
"1"," 1st Qu.: 3.75  "
"1"," Class :character  "
"1"," 1st Qu.: 4.000  "
"1"," 1st Qu.: 4.000  "
"1"," NA's:408      "
"1","
"
"1"," Median :2023-09-11 12:00:00  "
"1"," Median : 6.50  "
"1"," Mode  :character  "
"1"," Median : 6.000  "
"1"," Median : 6.000  "
"1","               "
"1","
"
"1"," Mean   :2023-09-11 12:00:00  "
"1"," Mean   : 6.50  "
"1","                   "
"1"," Mean   : 6.058  "
"1"," Mean   : 6.347  "
"1","               "
"1","
"
"1"," 3rd Qu.:2023-10-24 00:00:00  "
"1"," 3rd Qu.: 9.25  "
"1","                   "
"1"," 3rd Qu.: 8.000  "
"1"," 3rd Qu.: 9.000  "
"1","               "
"1","
"
"1"," Max.   :2023-12-03 00:00:00  "
"1"," Max.   :12.00  "
"1","                   "
"1"," Max.   :12.000  "
"1"," Max.   :12.000  "
"1","               "
"1","
"
"1","                              "
"1","                "
"1","                   "
"1"," NA's   :236     "
"1"," NA's   :238     "
"1","               "
"1","
"
"0","# trim metadata"
"0","metadata <- metadata[Timestamp <= max(status_table$Timestamp)]"
"0",""
"0","# add a column to metadata that indicates the actual status of given site at given interval"
"0","# retrieve status_table$Status by matching metadata$Timestamp to status_table$Timestamp and metadata$Site to status_table$Site"
"0",""
"0","metadata[status_table, on = c(""Timestamp"",""LabelledSite""), c(""Status"",""Folder"",""Site"") := list(fcase("
"0","  !(i.Status %in% c("""", ""dep"")) | is.na(i.Folder) | is.na(i.Site), 0,"
"0","  default = 1"
"0","  ), i.Folder, i.Site)]"
"0",""
"0","head(metadata)"
