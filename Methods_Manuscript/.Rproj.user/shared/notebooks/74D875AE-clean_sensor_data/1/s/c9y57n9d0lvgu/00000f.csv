"0","# set each value of StartDate to the closest entry in unique(metadata$StartDate)"
"0","maxless <- function(input, labels) {"
"0","  return(as.POSIXct(max(as.numeric(as.POSIXct(labels,origin=""1970-01-01"",tz=""PST""))"
"0","                        [as.numeric(as.POSIXct(labels,origin=""1970-01-01"",tz=""PST"")) <= as.numeric(input)]),origin=""1970-01-01"",tz=""PST""))"
"0","}"
"0","# test_data <- copy(sensor_data[1:50000])"
"0","# test_data[, StartDate := maxless(Changepoint, unique(metadata$StartDate)), by=1:nrow(test_data)]"
"0","# # input = sensor_data$Changepoint"
"0","# # labels = unique(metadata$StartDate)"
"0",""
"0","#unique(metadata$StartDate)[1] < unique(metadata$StartDate)[2]"
"0","#as.POSIXct(max(as.numeric(labels)[as.numeric(labels) <= as.numeric(input)]),origin=""1970-01-01"")"
"0",""
"0","sensor_data[, StartDate := maxless(Changepoint, unique(metadata$StartDate)), by=1:nrow(sensor_data)]"
"0","#sensor_data[, Changepoint := ifelse(as.numeric(Changepoint) - as.numeric(Timestamp))]"
