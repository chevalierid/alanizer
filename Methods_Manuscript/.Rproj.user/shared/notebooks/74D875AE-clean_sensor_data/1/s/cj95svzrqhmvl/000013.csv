"0","## select combination of folder + labelledsite + startdate where sensor_data[grep(""*"",Treatment)]"
"0","#sensor_data[sensor_data[which(Treatment %like% ""\\*"")], Treatment := ifelse(!Treatment %like% ""\\*"", NA, Treatment), on=.(Site, StartDate)]"
"0",""
"0","find_data <- sensor_data[Folder == 1 & LabelledSite == 5 & Timestamp > as.POSIXct(""2023-07-01 09:52:11"", origin = ""1970-01-01"", tz = ""PST"") & Timestamp < as.POSIXct(""2023-07-12 10:30:24"", origin = ""1970-01-01"", tz = ""PST"")]"
"0",""
"0","# find_data[find_data[which(Treatment %like% ""\\*"")], `:=` (Treatment = ifelse(!Treatment %like% ""\\*"", NA, Treatment), "
"0","#                                                               LabelledSite = ifelse(!Treatment %like% ""\\*"", Folder, LabelledSite)), "
"0","#             on=.(Site, StartDate)]"
"0","# find_data[, Treatment := gsub(""*"", """", Treatment, fixed = TRUE)]"
"0","# find_data[, Treatment := Treatment[nafill(replace(.I, is.na(Treatment), NA), ""locf"")]]"
"0",""
"0","sensor_data[sensor_data[which(Treatment %like% ""\\*"")], Treatment := ifelse(!Treatment %like% ""\\*"", NA, Treatment),"
"0","            on=.(Site, StartDate)]"
"0","sensor_data[, Treatment := gsub(""*"", """", Treatment, fixed = TRUE)]"
"0","sensor_data[, Treatment := Treatment[nafill(replace(.I, is.na(Treatment), NA), ""locf"")]]"
"0",""
"0","sensor_data[metadata, Site := i.Site, on = .(LabelledSite,Folder,StartDate)]"
